# JavaScript?

JavaScript가 언어로서 가지는 특징을 알아보고, 무엇을 할 수 있을지, 다른 기술들이 어떻게 자바스크립트를 활용하고 있는지 알아본다.

## 정의

> 자바스크립트는 '웹 페이지에 생동감을 불어넣기 위해' 만들어진 프로그래밍 언어이다.

자바스크립트로 작성합 프로그램을 스크립트(script)라고 보른다. 스크립트는 웹 페이지의 HTML 안에 작성할 수 있는데, 웹 페이지를 불러올 때 스크립트가 자동으로 실행된다.

* 자바스크립트는 자바와 완전히 다른 언어이다.

자바스크립트는 브라우저뿐만이 아니라 서버에서도 실행할 수 있고, 이 외의 자바스크립트 엔진이라고 불리는 특별한 프로그램이 들어있는 모든 프로그램에서 동작한다.

* 자바스크립트 엔진

  브라우저에는 ''자바스크립트 가상 머신''이라고 불리는 엔진이 내장되어 있다.

  * V8
    : Chrome, Opera에서 쓰인다.
  * SpiderMonkey
    : Firefox에서 쓰인다.
  * 그 외
    IE는 버전에 따라 'Trident', 'Chakra'라 불리는 엔진을 사용한다.
    Microsoft Edge는 'ChakraCore'를 사용한다.
    Safari는 'SquirrelFish'를 사용한다.

## 브라우저에서 할 수 있는 일

모던 자바스크립트는 '안전한' 프로그래밍 언어이다. 메모리나 CPU 같은 저수준 영역의 조작을 허용하지 않는다.

자바스크립트가 브라우저에서 할 수 있는일은 다음과 같다.

* 페이지에 새로운 HTML을 추가하거나 기존 HTML, 혹은 스타일 수정하기
* 마우스 클릭이나 포인터의 움직임, 키보드 키 눌림 등과 같은 사용자 행동에 반응하기
* 네트워크를 통해 원격 서버에 요청을 보내거나, 파일 다운로드, 업로드하기([AJAX](https://en.wikipedia.org/wiki/Ajax_(programming))나 [COMET](https://en.wikipedia.org/wiki/Comet_(programming))과 같은 기술 사용)
* 쿠키를 가져오거나 설정하기. 사용자에게 질문을 건네거나 메시지 보여주기
* 클라이언트 측에 데이터 저장하기(로컬 스토리지)

## 브라우저에서 할 수 없는 일

브라우저는 보안을 위해 자바스크립트 기능에 제약을 걸어놓았다. 이런 제약은 악성 웹 페이지가 개인 정보에 접근하거나 사용자의 데이터를 손상시키는 것을 막기 위해 만들어졌다.

* 웹페이지 내 스크립트는 디스크에 저장된 임의의 파일을 읽거나 쓰고, 복사하거나 실행할 때 제약을 받을 수 있습니다. 운영체제가 지원하는 기능을 브라우저가 직접 쓰지 못하게 막혀있기 때문입니다.

  모던 브라우저를 사용하면 파일을 다룰 순 있습니다. 하지만 접근은 제한되어 있습니다. 사용자가 브라우저 창에 파일을 ‘끌어다 두거나’ `<input>` 태그를 통해 파일을 선택할 때와 같이 특정 상황에서만 파일 접근을 허용합니다.

  카메라나 마이크 같은 디바이스와 상호 작용하려면 사용자의 명시적인 허가가 있어야 합니다. 자바스크립트가 활성화된 페이지라도 사용자 몰래 웹 카메라를 작동 시켜 수집한 정보를 [국가안보국(NSA)](https://en.wikipedia.org/wiki/National_Security_Agency)과 같은 곳에 몰래 전송할 수 없습니다.

* 브라우저 내 탭과 창은 대개 서로의 정보를 알 수 없습니다. 그런데 자바스크립트를 사용해 한 창에서 다른 창을 열 때는 예외가 적용됩니다. 하지만 이 경우에도 도메인이나 프로토콜, 포트가 다르다면 페이지에 접근할 수 없습니다.

  이런 제약사항을 '동일 출처 정책(Same Origin Policy)'이라 부릅니다. 이 정책을 피하려면 *두 페이지*는 데이터 교환에 동의해야 하고, 동의와 관련된 특수한 자바스크립트 코드를 포함하고 있어야 합니다. 자세한 사항은 추후 학습하도록 하겠습니다.

  다시 한번 강조하지만, 이런 제약사항은 사용자의 보안을 위해 만들어졌습니다. `http://anysite.com`에서 받아온 페이지가 `http://gmail.com`에서 받아온 페이지 상의 정보에 접근해 중요한 개인정보를 훔치는 걸 막기 위함입니다.

* 자바스크립트를 이용하면 페이지를 생성한 서버와 쉽게 정보를 주고받을 수 있습니다. 하지만 타 사이트나 도메인에서 데이터를 받아오는 건 불가능합니다. 가능하다 할지라도 원격 서버에서 명확히 승인을 해줘야 합니다(HTTP 헤더 등을 이용). 이 역시 보안을 위해 만들어진 제약사항입니다.

**서버의 경우엔 이러한 제약은 존재하지 않는다. 다만 모던 브라우저에서는 추가 권한 허가를 요청하는 플러그인이나 익스텐션 설치가 허용된다.**

## 자바스크립트만의 강점

많은 장점이 있지만 가장 두드러지는 장점은 세가지가 있다.

- HTML/CSS와 완전히 통합할 수 있음
- 간단한 일은 간단하게 처리할 수 있게 해줌
- 모든 주요 브라우저에서 지원하고, 기본 언어로 사용됨

이 세가지를 모두 지원하는 브라우저 연관 기술은 자바스크립트 뿐이다.
이 외에도 자바스크립트를 이용해 서버나 모바일 앱 등을 만드는 것도 가능하다.

## 자바스크립트 '너머의' 언어들

자바스크립트 문법이 모든 사람의 요구를 충족시키지는 못한다. 사람마다 각기 다른 기능을 원하기 때문이다.
이로 인해서 근래에는 브라우저에서 실행 되기 전에 자바스크립트로 변환할 수 있는 새로운 언어들이 등장했다.

- [CoffeeScript](http://coffeescript.org/)는 자바스크립트를 위한 'syntactic sugar’입니다. 짧은 문법을 도입하여 명료하고 이해하기 쉬운 코드를 작성할 수 있습니다. Ruby 개발자들이 좋아합니다.
- [TypeScript](http://www.typescriptlang.org/)는 개발을 단순화 하고 복잡한 시스템을 지원하려는 목적으로 '자료형의 명시화(strict data typing)'에 집중해 만든 언어입니다. Microsoft가 개발하였습니다.
- [Flow](http://flow.org/) 역시 자료형을 강제하는데, TypeScript와는 다른 방식을 사용합니다. Facebook이 개발하였습니다.
- [Dart](https://www.dartlang.org/)는 모바일 앱과 같이 브라우저가 아닌 환경에서 동작하는 고유의 엔진을 가진 독자적 언어입니다. Google이 개발하였습니다.

## 요약

- 자바스크립트는 브라우저에서만 쓸 목적으로 고안된 언어이지만, 지금은 다양한 환경에서 쓰이고 있습니다.
- 오늘날 자바스크립트는 브라우저 환경에서 가장 널리 사용되는 언어로 자리매김하였습니다. HTML/CSS와 완전한 통합이 가능합니다.
- 자바스크립트로 '트랜스파일’할 수 있는 언어는 많습니다. 각 언어마다 고유한 기능을 제공하죠. 자바스크립트에 숙달한 뒤에 이 언어들을 살펴볼 것을 추천드립니다.