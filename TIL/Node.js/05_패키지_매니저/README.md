# 패키지 매니저

## 5.1 npm 알아보기

npm은 Node Package Manager의 약어로, 이름 그대로 노드 패키지를 관리해준다.

노드가 자바 스크립트 프로그램을 컴퓨터에서도 실행할 수 있게 해준다고 했는데 대부분의 자바스크립트 프로그램은 패키지라는 이름으로 npm에 등록되어 있으므로 특정 기능을 하는 패키지가 필요하면 npm에서 찾아 설치하면 된다.

## 5.2 package.json으로 패키지 관리하기

서비스에 필요한 패키지를 하나씩 추가하다 보면 패키지 수가 100개를 훌쩍 넘어 버리게 됩니다. 그리고 사용할 패키지는 저마다 고유한 버전이 있으므로 어딘가에 기록해두어야 합니다. 같은 패키지라도 버전별로 기능이 다를 수 있으므로 동일한 버전을 설치하지 않으면 문제가 생깁니다. 이때 설치한 **패키지의 버전을 관리하는 파일이 바로 package.json입니다.**

따라서 프로젝트를 시작하기 전에 package.json부터 만들고 시작하는 것이 좋습니다.

* npm으로 package.json을 만드는 명령어

  ```bash
  npm init
  ```

  * package name: 패키지의 이름입니다. package.json의 name 속성에 저장됩니다.

  * version: 패키지의 버전입니다. npm의 버전은 다소 엄격하게 관리됩니다. 5.3절에서 다룹니다.

  * entry point: 자바스크립트 실행 파일 진입점입니다. 보통 마지막으로 module.exports를 하는 파일을 지정합니다. package.json의 main 속성에 저장됩니다.

  * test command: 코드를 테스트할 때 입력할 명령어를 의미합니다. package.json scripts 속성 안의 test 속성에 저장됩니다.

  * git repository: 코드를 저장해둔 Git 저장소 주소를 의미합니다. 나중에 소스에 문제가 생겼을 때 사용자들이 이 저장소에 방문해 문제를 제기할 수도 있고, 코드 수정본을 올릴 수도 있습니다. package.json의 repository 속성에 저장됩니다.

  * keywords: 키워드는 npm 공식 홈페이지([https://npmjs.com](https://npmjs.com/))에서 패키지를 쉽게 찾을 수 있게 해줍니다. package.json의 keywords 속성에 저장됩니다.

  * license: 해당 패키지의 라이선스를 넣어주면 됩니다.
    * 오픈 소스라고 해서 모든 패키지를 아무 제약 없는 사용할 수 있는 것은 아니다. 라이선스 별로 제한 사항이 있으므로 설치 전에 반드시 라이선스를 확인해야 한다.

 <br>

명령어를 실행하고 나면 해당 폴더에 package.json 파일이 기록된다.

```json
{
  "name": "npmtest",
  // 생략
  "license": "ISC",
  "dependencies": {
    "express": "^4.16.3"
 }
}
```

패키지를 하나만 설치해도 서로 의존적이기 때문에 여러개의 패키지가 들어있다. 이러한 이유 때문에 package.json이 필요하다.

### package-lock.json

npm으로  패키지를 설치, 수정, 삭제할 때마다 내부 의존 관계를 이 파일에 저장한다.

## 5.3 패키지 버전 이해하기

노드, 노드 패키지의 버전은 세 자리이다. 버전이 세 자리인 이유는 SemVer방식의 버전 넘버링을 따르기 때문이다.

SemVer는 Semantic Versioning(유의적 버전)의 약어이다. 버전을 구성하는 세자리가 모두 의미가 있다는 뜻이다.

SemVer는 세가지로 나뉘어지는데 각각 major버전, minor버전, patch버전으로 나뉘어져 있다.

### major

버전의 첫번째 자리이다. 0이면 초기버전, 1이면 정식버전이라는 뜻이다. major버전은 하위 호환이 안될정도로  패키지의 내용이 수정되었을 때 올린다.

### minor

버전의 두번째 자리이다. minor 버전은 하위 호환이 되는 기능 업데이트 시에 올린다.

### patch

기존 기능에 문제가 있어 이를 수정하는 것을 내놓았을 때 patch버전을 올린다.

## 5.4 기타 npm 명령어 

## 5.5 패키지 배포하기
