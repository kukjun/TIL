# Chapter6 조건문

* 가능한 여러 가지 동작 중에서 하나를 선택하는  if..else문의 사용법을 학습한다.
* 관계 연산자와 논리 연산자를 학습한다.
* 선택할 수 있는 동작이 많은 경우에 사용되는 swich문의 사용법을 학습한다.
* 반복문의 흐름을 제어하는 break, continue, goto 등의 사용법을 학습한다.

## 6.1 제어문

```
문장들이 실행되는 순서에 영향을 주는 문장
```

제어문은 크게 조건문과 반복문으로 나눌 수 있다.

* 조건문

  ```
  조건에 따라 결정을 내리는 문장
  ```

  * **if** 문장과 **switch** 문장이 조건문에 속한다.

* 반복문

  ```
  어떤 조건이 유지되는 한, 또는 정해진 횟수만큼 처리를 되풀이 하는 문장을 반복문이라고 한다.
  ```

  * **for** 문장과 **while** 문장이 반복문에 속한다.

## 6.2 if 문

### 1. if 문의 개념

> 영어 단어 if가 의미하는 것처럼 "만약 ~하면 ~한다"라고 해석한다.

| 형식 | if( 조건식 )                                 |
| ---- | -------------------------------------------- |
|      | 문장                                         |
| 설명 | 만약 조건식이 참인 경우에만 문장이 실행된다. |
| 예   | if ( number > 0 )                            |
|      | printf("양수입니다.\n");                     |

* 관계식이나 논리식을 포함한 어떤 수식이든 사용 가능하다.
  * 수식의 경우 수식의 값이 0이면 거짓, 0이 아니면 모두 참으로 간주된다.
* if 문의 조건식 뒤에 세미콜론을 찍으면 안된다.
  * if 문은 조건식과 문장이 합쳐서 하나의 문장이 된다.

* if문이 끝나면 조건이 참이든 거짓이든 상관없이 if문 다음에 있는 것이 출력된다.

### 2. 복합문(블록)

조건이 참인 경우에 여러 개의 문장이 실행되어야 한다면?

```
중괄호를 이용하여 문장들을 묶어서 한번에 실행시킬수 있도록 하는 문장 그룹핑
```

* 블록을 사용하지 않으면 조건문에 관계없이 두번째 문장부터는 항상 실행된다.

### 3. 참과 거짓

C에서는 참과 거짓을 0인지 아닌지로 판별한다. 그래서 간략화한 조건식도 많이 사용한다.

* 간략화 한 조건식

  * 표준적인 방법

  ```c
  if ( x != 0 )
  	printf("x가 0이 아닙니다.\n");
  if ( x == 0 )
      printf("x가 0입니다.\n");
  ```

  * 간략한 표기법

  ```c
  if ( x )
  	printf("x가 0이 아닙니다.\n");
  if ( !x )
      printf("x가 0입니다.\n");
  ```

* 자주하는 오류

  * 두 값을 비교할때 == 대신 =을 사용하는 경우, 이 경우엔 값이 그냥 변수에 대입된다. 대입된 값에 따라 참과 거짓이 결정된다.

  * 실수와 실수를 비교할 때

    * 문제되는 코드

      ```c
      if(result == expectedResult)
      ```

      * 실수의 오차 때문에 참이 되기 힘들다.

    * 고친 코드

      ```c
      if(fabs(result - expectedResult) < 0.00001)
      ```

      * 2개의 숫자가 오차 이내로 아주 근접하면 같은 것으로 판정하는 방법.
      * fabs() 함수는 실수의 절대값을 계산하여서 반환한다.

* side effect (부수작용)

## 6.3 if-else 문

```
조건식을 계산하여 결과값이 참이면 if 이후의 문장을 실행한다. 조건식이 거짓으로 계산되면  else 이후의 문장을 실행한다.
```

| 형식 | if( 조건식 )                                                 |
| ---- | ------------------------------------------------------------ |
|      | 문장1; (then 절)                                             |
|      | else                                                         |
|      | 문장2; (else 절)                                             |
| 실행 | 만약 조건식이 참이면 문장이1이 실행된다. 그렇지 않으면 문장2가 실행된다. |
| 예   | if (number > 0 )                                             |
|      | printf("양수입니다.\n");                                     |
|      | else                                                         |
|      | printf("양수가 아닙니다.\n");                                |

### 1. 조건문과 조건 연산자

* if-else 문은 조건 연산자를 사용하여 표현할 수도 있다.
  * 간단한 경우 조건 연산자를 사용하고 복잡한 경우 if-else문을 사용하는 것이 바람직하다.

* 경우가 두가지라면 if문을 두번 쓰는 것 보다 if-else문을 쓰는 것이 더 효율적이다.

### 2. 복잡한 조건식 사용

* if 문의 조건식을 사용할 때 NOT연산자를 사용하는 것보다 드모르간의 법칙을 이용해 양의 논리로 계산하는 것이 더 쉽다.

<br>

## 6.4 다중 if 문

### 1. 중첩 if 문

```
if문은 한개만 쓸 수 있는게 중첩해서 여러개 사용 가능하다.
```

* if(조건식) 문장; 까지 하나의 문장이고, if 문안에도 if문이 들어갈 수 있다.
  * if-else문도 if문 안에 들어갈 수 있다.
* 중첩 if문에서는 else가 어디에 매치될지 컴파일러는 알 수 없다. (dangling else)
  * 해석상 혼동을 방지하기 위해 else는  가장 가까운 if와 매치된다.
  * 중괄호를 이용하면 멀리 있는 if와도 매치할 수 있다.
* 중첩은 얼마든지 할 수 있으나 중첩이 많이되면 읽기 어려워지므로 주의해야 한다.

### 2. 연속적인 if 문

```
if문에서 다중으로 분기되는 결정을 내려야 할때는 if 뒤에 else if를 연속적으로 사용하면 된다
```

| 형식     | if( 조건식1 )                                                |
| -------- | ------------------------------------------------------------ |
|          | 문장1;                                                       |
|          | else if( 조건식2 )                                           |
|          | 문장2;                                                       |
|          | else if( 조건식3 )                                           |
|          | 문장3;                                                       |
|          | else                                                         |
|          | 문장4;                                                       |
| **설명** | 만약 조건식1이 참이면 문장1이 실행된다. 그렇지 않고 조건식2가 참이면 문장2가 실행된다. |
|          | 그렇지 않고 조건식3이 참이면 문장3이 실행된다. 그렇지 않으면 문장4가 실행된다. |

* 만약 해당 조건식이 참이면 관련된 문장이나 블록이 수행되고 더이상의 비교는 이루어지지 않는다.

## 6.5 switch 문

```
if문과 비슷하나 제어식의 값에 따라 다음에 실행할 문장을 결정하는 조건문
```

* if문일 참과 거짓에 따라 실행경로를 두가지로 나눈다면 switch 문은 제어식의 값에 따라 실행경로가 여러가지로 나뉘무로 실행 가지수가 많을 때 사용하면 좋다.
* 제어식은 정수 상수로 표현되어야만 한다. 정수로 나오지 않으면 switch문을 사용할 수 없다.
  * 문자의 경우 아스키코드로 표현되고, 아스키코드는 정수이므로 사용 가능하다.

| 형식 | switch(제어식) |
| ---- | -------------- |
|      | {              |
|      | case c1:       |
|      | 문장1;         |
|      | break;         |
|      | case c2:       |
|      | 문장2;         |
|      | break;         |
|      | . . .          |
|      | default:       |
|      | 문장d;         |
|      | break;         |
|      | }              |

### 1. break 문

* break문이 없으면 다음 case절의 문장들을 실행하여 중대한 오류가 발생할 수 있다.
  * 모든 case 문은 일반적으로 break문으로 끝내야 한다.

### 2. default 문

어떤 case 문과도 일치되지 않는 경우에 선택되어 실행되고 생략할 수 있다.

* 만약 default문이 없고 일치하는 case문도 없으면 아무것도 실행되지 않는다.

* default문은 어느위치에 써주어도 상관이 없다.

### 3. switch 문과 if-else 문

switch문과 if-else문은 서로 바꿀 수 있다.

* 선택해야 하는 경우가 많으면 switch문을 사용하는 것이 간결해 보인다.

### 4. 주의할 점

* case절에 있는 수식은 반드시 정수 상수여야 한다.
  * 실수나 변수, 변수가 들어간 수식,  문자열을 사용하는 것은 컴파일 오류이다.
* 정수의 범위에 대해서 switch는 지정할 수 없다.
  * switch 문은 경우를 손쉽게 나눌 수 있지만 정수 범위를 지정할 수 없어 일일히 나열해야 한다. 
  * 범위의 경우엔 if-else문이 더 편하다.

## 6.6 goto 문

 ```
조건없이 어떤 위치로 점프하게 만드는 문장.
 ```

* 프로그램을 아주 복잡하게 만들기 때문에 사용을 권장하지 않음

| 형식 | goto error;           |
| ---- | --------------------- |
|      | . . . .               |
|      | . . . .               |
|      | error:                |
|      | printf("오류발생\n"); |

* 처리를 반복하는 문제는 while이나 for을 사용하여 아주 쉽게 구현할 수 있음.

  * goto문이 중첩된 반복문에서 오류가 발생하여 외부로 빠져 나가려고 할때 goto문으로 한번에 나가는 것이 가장 효율적임.

  