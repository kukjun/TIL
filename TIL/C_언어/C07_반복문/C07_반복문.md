# Chpater 7. 반복문

* 프로그램 안의 문장들을 반복적으로 실행하기 위한 while 구조와 for 주고를 학습한다.
* 반복문에서 break와 continu 사용법을 익힌다.

## 7.1 반복문이란?

```
같은 처리과정을 여러번 되풀이 하는 것으로 컴퓨터가 가지는 장점이다. 그리고 프로그래밍에서 자주 나오는 요소이다.
```

반복은 프로그램의 흐름을 제어하는 방법중 하나다. 프로그램의 흐름을 제어하는 방법은 다음과 같은 3가지 구조이다.

#### 1. 순차 구조

* 주어진 문장들을 차례대로 실행하는 구조이다. 가장 기본적인 제어 구조이다.

#### 2. 선택 구조

* 어떤 조건을 검사하여 여러 개 갈래의 실행 경로 중에서 하나를 선택하여 실행하는 구조이다. 컴퓨터로 하여금 논리적인 판단을 할 수 있도록 하여주는 유용한 제어 구조이다.
  * 조건문을 이용한 구조

#### 3. 반복 구조

* 어떤 조건을 만족할 때까지 같은 문장들을 반복하여 실행하는 제어 구조이다.

### 1. 반복의 필요성

* 같은 코드를 여러번 반복하는 프로그램을 짜게 되는 경우 굉장히 비효율적이다.
* 그럴경우 반복문을 사용해서 계산을 한다.
  * C언어가 지원하는 for, while 반복문을 사용한다.

## 7.2 whlie 문

```
주어진 조건이 만족되는 동안 문장들을 반복 실행하는 문장구조
```

| 형식     | whlie( 조건식 )                       |
| -------- | ------------------------------------- |
|          | 문장;                                 |
| **설명** | 조건식이 참이면 문장을 반복 실행한다. |
| **예**   | while( i < 10 )                       |
|          | printf("Hello World!\n");             |

* 조건식이 거짓인 경우엔 반복을 중단한다. 
  * 일반적으로 조건식은 관계 연산자나 논리 연산자를 사용한 수식이지만 정수를 생성하는 어떤 수식도 사용할 수 있다.
* 반복되는 문장이 여러개인 경우엔 중괄호를 이용해 블록을 만들어 준다.

### 1. 복잡한 반복문

#### 1) 알고리즘 작성

* 문제를 작은 크기의 단계들로 분해하는 것

##### a) average.c Code 작성

성적의 평균을 구한다.

​	(1) 필요한 변수들을 초기화 한다.

​	(2) 성적을 입력받아서 합계를 구하고 성적의 개수를 센다

​	(3) 평균을 계산하고 화면에 출력한다.

* 필요한 변수들을 초기화 한다.
  * sum을 0으로 초기화한다.
  * n을 0으로 초기화한다.
  * grade를 0으로 초기화한다.
* 성적을 입력받아서 합계를 구하고 성적의 개수를 센다
  * while(성적이 0이상이면)
    * 사용자로부터 성적을 읽어서 grade에 저장한다.
    * sum에 이 정수를 누적한다.
    * n을 하나 증가시킨다.
* 평균을 계산하고 화면에 출력한다.
  * sum을 n으로 나누어서 average에 저장한다.
  * average를 화면에 출력한다.

##### b) average.c Code 코딩

* average.c Code

  ```c
  #include <stdio.h>                                                                                      
  
  int main(void)                                                                                          
  {                                                                                                       
      int grade, n;                                                                                   
      double sum, average;                                                                            
  
      sum = 0;                                                                                        
      n = 0;                                                                                          
      grade = 0;                                                                                      
  
      printf("if you want exit, input -\n");                                                          
  
      while (grade >= 0){                                                                             
          printf("input grade :");                                                                
          scanf("%d", &grade);                                                                    
          sum += grade;                                                                           
          n++;                                                                                    
      }                                                                                               
  
      average = sum / n;                                                                              
  
      printf("average = %lf\n", average);                                                             
  
      return 0;                                                                                       
  }
  ```

  * 실행결과

    * 실행

      ```
      if you want exit, input -                                                                               
      input grade :50                                                                                         
      input grade :60                                                                                         
      input grade :40                                                                                         
      input grade :50                                                                                         
      input grade :70                                                                                         
      input grade :-2                                                                                         
      average = 44.666667
      ```

### 2. if 문과 while 문의 비교

* if 문은 조건이 만족되면 한번만 실행되는 반명 while 문은 여러번 실행된다.

### 3. while 루프 작성시 주의할 점

* 반복실행할 부분을 중괄호로 묶어야한다.
* 반복문장에서 !=, ==는 실수로 무한루프를 만들 수 있음으로 주의 한다.

### 4. 참과 거짓

* while 문의 조건식에서는 0이 아닌 모든 값들은 전부 참이고 0은 거짓으로 간주된다.

* 254p.c Code

  ```c
  #include <stdio.h>                                                                                      
  
  int main(void){                                                                                         
      int i = 3;                                                                                      
  
      while (i){                                                                                      
          printf("%d is true\n", i);                                                              
          i--;                                                                                    
      }                                                                                               
      printf("%d = fail\n", i);                                                                       
      return 0;                                                                                       
  }
  ```

  * 실행결과

    * 실행

      ```
      3 is true                                                                                               
      2 is true                                                                                               
      1 is true                                                                                               
      0 = fail
      ```

      * (i) 는 i != 0과 동일한 의미를 가진다.

## 7.3 do..while 문

```
do...while 문은 while 문과 비슷하나 반복 조건을 루프의 처음이 아니라 루프의 끝에서 검사한다.
```

| 형식 | do                                                           |
| ---- | ------------------------------------------------------------ |
|      | 반복문장;                                                    |
|      | while(조건식);                                               |
| 실행 | 일단 반복 문장을 실행한 후 조건을 검사하여 반복 여부를 결정한다. |
| 예   | do                                                           |
|      | {                                                            |
|      | sum = sum + i;                                               |
|      | i++;                                                         |
|      | }while( i < 3 );                                             |

* 조건식을 참, 거짓을 가릴 수 있는 수식이면 되고, 문장은 단일문, 복합문 둘다 가능
* while과는 다르게 조건이 달라도 무조건 한번은 실행
  * do while문은 적어도 한번 실행해야 하는 경우 사용

## 7.4 for 문

```
for 문은 문장을 정해진 횟수만큼 반복하여 실행하는 반복구조
```

| 형식 | for(초기식; 조건식; 증감식)                                  |
| ---- | ------------------------------------------------------------ |
|      | 반복문장;                                                    |
| 설명 | 초기식을 실행한 후에 조건식의 값이 참인 동안, 반복 문장을 반복한다. |
|      | 한번 반복이 끝날 때마다 증감식이 실행된다.                   |
| 예   | for ( i = 0; i < 10; i ++)                                   |
|      | printf("Hello World!\n");                                    |

#### 1. 초기식

* 초기식은 반복 루프를 시작하기 전에 한번만 실행된다.
* 주로 루프 제어에 사용되는 변수의 값을 초기화 하는데 사용한다.

#### 2. 조건식

* 조건식은 반복을 계속할 것인지 중단할 것인지를 결정하는 수식이다.
* 수식의 값은 참이나 거짓으로 계산될 수 있는 관계식이나 논리식이어야 한다.
  * 조건식이 참이면 실행
* 이 수식은 반복이 일어나기 전에 계산한다.
  * while문과 비슷하다.

#### 3. 증감식

* 한번의 루프 실행이 끝나면 증감식이 실행된다. 루프를 제어하는 변수를 증가, 감소시킬 수 있다.
* 증감식 이후에는 다시 조건식이 실행되어 반복할지 여부를 결정한다.

### 1. while 루프와 for 루프의 관계

* while 루프는 루프가 몇번이나 수행될지 모르는 환경에서 사용할 수 있지만 미리 아는 경우에도 사용할 수 있다.
  
* for루프와 while 루프는 서로 변환이 가능하다.
  
* factorial2.c Code

  ```c
  #include <stdio.h>                                                                                      
  
  int main(void)                                                                                          
  {                                                                                                       
      long fact = 1;                                                                                  
      int i, n;                                                                                       
  
      printf("input integer :");                                                                      
      scanf("%d", &n);                                                                                
  
      i = 1;                                                                                          
      while ( i <= n){                                                                                
          fact *= i;                                                                              
          i++;}                                                                                   
      /*      for(i=1; i<=n; i++)                                                                             
                  fact *= i;                                                                              
  */                                                                                                      
  
      printf("awnser : %ld", fact);                                                                   
  
      return 0;                                                                                       
  }
  ```

  * 실행결과

    * 실행

      ```
      input integer :5                                                                                        
      awnser : 120
      ```

* while 루프에서는 초기화, 증감을 개발자가 잊어버려서 문제가 발생할 수 있는 반면 for 루프는 초기화, 증감의 자리가 정해져 있어 보다 안전하다.

### 2. 증감 수식의 형태

* 증감식은 i++와 같은 형태로 쓰인다.
  * i = i+1과 동일한 식.
  * 연산식이 없어서 i++와 ++i 둘 다 별 차이가 없다.
* 증가식 뿐 아니라 감소식으로도 사용 가능하다.

* i를 꼭 1식 증가시킬 필요는 없다.
* i를 곱셈으로 사용할 수도 있고, 더 복잡한 수식으로 사용할 수도 있다.

### 3. 다양한 for 루프

* for 문에 초기, 조건, 증감식이 없을 수도 있고,  없는 경우 무한루프가 발생한다.
  * Ctrl + C를 이용해 빠져나올 수 있다.
* 초기화 수식에서 콤마 연산자를 통해 2개 이상의 변수를 초기화 시킬 수 있다.
* 초기화 자리에 변수 초기화가 아닌 다른 문장이 들어갈 수 있다.
* 조건 검사에는 참과 거짓을 판별 할 수 있는 수식이면 어떤 것이든 가능하다.
  * 논리, 관계연산자를 사용할 수 있다.
* NULL 문장
  * 반복 처리할 내용이 없다면 ;(NULL문장)을 사용하는 것도 가능하다.

## 7.5 중첩 반복문

```
반복문 안에 반복문이 포함되는 형태를 중첩 반복문이라고 한다.
```

* 외부의 반복문은 외부반복문(outer loop), 내부의 반복문을 내부 반복문(inner loop)라고 한다.
* 내부 반복문을 외부 반복문이 한번 반복할 때 마다 새롭게 실행된다.

* 외부 반복문과 내부 반복문을 제어하는 각각의 변수는 서로 달라야한다.
  * 같은 변수를 사용하면 논리적인 오류가 발생할 수 있다.

## 7.6 break와 continue

### 1. break 문

* 반복 루프를 벗어나기 위해서 사용
  * break문이 반복루프 안에서 실행되면 반복 루프를 빠져나오게 된다.

### 2. goto 문의 사용

* 평소엔 잘 사용하지 않지만 중첩반복문의 경우 한번에 외부로 빠져나올 수 있어 효과적으로 사용할 수 있다.
  * break문은 한번에 하나의 루프만 빠져나올 수 있다.

### 3.  continue 문

```
continue 문은 현재 실행하고 있는 반복 과정의 나머지를 생략하고 다음 반복을 시작하게 만든다.
```

