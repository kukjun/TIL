# 프로세스와 사용자 명령 익히기

### 학습 목표 및 학습 내용

#### 1) 학습 목표

* 프로세스의 개념을 이해한다.
* 프로세스 관련 유닉스 명령의 사용 방법을 익힌다.
* 포그라운드 처리와 백그라운드 처리의 차이를 이해한다.



## 01. 프로세스의 개념과 종류

#### 1) 프로세스

* 실행중인 프로그램

* 종류

  * 시스템 프로세스 : 유닉스 운영에 필요한 기능 수행

  * 사용자 프로세스 : 사용자들이 실행시킨 프로세스( 자식 - 부모 프로세스)

    ```
    시스템 부팅 - init process - Shell process
    ```

## 02. 프로세스 관리

### 1. 프로세스 목록 보기

* process status

  ```
  ps [ 옵션 ]
  ```

  * 프로세스 정보를 출력
    * PID,  터미널, CUP 시간, 명령어
  * 옵션
    * -e : 시스템에 있는 모든 프로세스 정보 출력
    * -f : 프로세스에 대한 자세한 정보 출력
    * -u UID : 특정 사용자에 대한 모든  프로세스 출력

로그인 쉘 55726 - ps 88611 ( 부모 - 자식) -프로세스들은 시스템 내부에서 번호로 관리된다.

### 2. 특정 프로세스 정보검색

* 프로세스 이름으로 찾아 정보를 출력

```
pgrep [ 옵션 ] 패턴
```

* = ps [옵션] | grep 패턴
* 옵션
  * -x : 패턴과 정확히 일치하는 프로세스 정보 출력
  * -n : 패턴을 포함하고 있는 가장 최근의 프로세스 정보 출력

### 3. 프로세스 종료

* 프로세스의 종료 -신호를 보내준다는 의미로 확장
  * ps 명령으로 찾은 프로세스 중 불필요한 프로세스를 강제로 종료시킨다.
  * 프로세스를 종료시키면 그 자식 프로세스들도 같이 종료된다.
  * 프로세스를 종료시킬 때 PID나 프로세스 이름을 알아야 한다.
* 프로세스 종료 시키기
  * kill
  * pkill

#### 1) kill

```
kill [ 시그널 ] pid
```

* ​	SIGTERM 시그널로 보낸다. 하던 작업을 마무리하고 종료
  * 정상종료
* 번호로 종료할 때 사용

#### 2) pkill

* 프로세스의 명령이름으로 프로세스를 찾아 지정한 시그널 보냄
  * 사용자사 보유한 프로세스만 종료 간ㅇ

#### 3) top

## 03. 포그라운드와 백그라운드 프로세스

#### 1) 작업[job]

* 쉘이 프로세스를 관리하는 단위
* 쉘은 job을 시작시키고 제어 (Job ID 부여)
* 유닉스의 프로세스는 포그라운드 작업과 백드라운드 작업으로 구분 가능

#### 2) 포그라운드 처리

* 사용자가 입력한 명령이 실행되어 결과가 출력될 때까지 프롬프트 출력되지않아서 다른 명령을 입력할 수 없는 처리 방법

#### 3) 백그라운드 처리

* 명령의 입력이 끝나면 결과에 상관없이 바로 다음 프롬프트가 출력되어 다른 명령을 입력할 수 있는 처리 방법
* 명령의 끝에 & 붙임

### 1. 작업제어 명령

#### 1) 작업제어 명령

```bash
jobs [ %작업번호 ]
```

* 작업 번호를 지정하지 않으면 백그라운드 작업을 모두 출력하고 특정 작업 번호를 지정하면 해당 작업의 정보만 출력
  * %번호 : 해당 번호의 작업 정보를 출력
  * %+ 또는 %% : 작업 순서가 +인 작업 정보를 출력
  * %- : 작업 순서가 -인 작업 정보를 출력

| 항목     | 출력예제 | 의 미                                                        |
| -------- | -------- | ------------------------------------------------------------ |
| 작업번호 | [1]      | 작업번호로 백그라운드로 실행시킬 때마다 순차적으로 증가([1], [2], [3]) |
|          |          |                                                              |
|          |          |                                                              |
|          |          |                                                              |

### 2. 작업 전환

fg에서는 ctrl+z를 이용해서 중지하고 bg로 전환

fg 명령순서로 bg- fg 전환

### 3. nohub

* **로그아웃 후에도 백그라운드 작업 계속 실행하기**

```bash
nohub 백그라운드명령
```

* 로그아웃 한 다음에도 지정한 백그라운드 작업이 실행완료 되도록 해야할 때 사용
  * 원래는 로그아웃하면 실행중이던 모든 작업이 종료됨

## 04. 사용자 정보보기

#### 1) 로그인한 사용자 정보 보기

##### a) users

##### b) who

##### c) w

* 

#### 2) 사용자 자신의 정보 보기

##### a) who am i

##### b) whoami

* 간단한 개인정보

##### c)id