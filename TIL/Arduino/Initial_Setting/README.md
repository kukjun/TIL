# Initial Setting

## Arduino?

> 오픈 소스를 기반으로 한 단일 보드 마이크로컨트롤러로 완성된 보드와 관련 개발 도구 및 환경을 말한다.

다수의 스위치나 센서로부터 값을 받아들여, LED나 모터와 같은 외부 전자 장치들을 통제함으로써 환경과 상호작용이 가능한 물건을 만들어낼 수 있다. 임베디드 시스템 중의 하나로 쉽게 개발할 수 있는 환경을 이용하여, 장치를 제어할 수 있다.

### Arduino Board

아두이노의 보드는 여러종류가 있고 종류마다 설치해야 하는 보드 설정이 다르다.

**설정하는 방법**

* sketch 상단 툴바에서 툴(도구)에 들어가서 기본 보드 설정을 하고 없는 경우 보드매니저를 통해서 다운받은 후 설치한다.

## Arduino Sketch

아두이노를 사용하기 위한 프로그램인 **Sketch**이다.

### Sketch 구조

![image-20200825201013136](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200825201013136.png)

#### 툴바

툴바는 자주쓰는 메뉴들을 모아둔 곳으로 왼쪽부터 차례대로 확인, 업로드, 새파일, 열기, 저장 순으로 되어 있다.
소스를 작성한 다음 확인 버튼을 누르게 되면 소스에 대한 컴파일을 실행하게 된다. 이상이 없을 경우, 오른쪽 화살표 모양의 업로드를 누르게 되면 작성한 소스가 아두이노 보드로 올라가 스케치에서 작성한 소스대로 실행된다.

#### 시리얼 모니터

시리얼 모니터는 아두이노가 컴퓨터간 통신으로 데이터가 오고갈때 그 데이터의 현황을 볼 수 있는 창으로 나중에 시리얼 통신을 이용할 때 사용된다.

#### 텍스트 에디터 창

소스를 작성하는 공간으로 **void setup(){}**, **void loop(){}**라는 큰 두 구성요소로 이루어진다.

**void setup() {}**

설정을 담당하는 부분이다.

아두이노 보드의 설정과 관련된 함수를 { } 안에 입력하면 된다.

* 설정과 관련되어 있기 때문에 아두이노 보드에서 스케치가 실행될 때마다 한번씩만 실행이 된다.
  * 아두이노 보드에 전원이 들어오거나 reset버튼이 들어올때마다 setup이 다시 실행된다.

**void loop() {}**

아두이노 보드의 구체적인 동작을 담당하는 부분이다.

* 설정이 끝난 후 구체적인 동작 { } 안에 입력하면 된다.
  * 아두이노 보드에 한번 전원이 들어오면 loop은 무한 반복된다.

**아두이노 스케치는 setup()이 실행된 후 loop()가 무한 반복되는 구조이다.**

## Sensor

### DHT-11

온습도센서

![image-20200826132643473](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826132643473.png)

**주요사양**

| 습도 측정 범위 | 20-90% RH    |
| -------------- | ------------ |
| 습도 오차 범위 | +_5% RH      |
| 측정 온도 범위 | 0-50도(섭씨) |
| 온도 오차 범위 | +_2%도(섭씨) |
| 동작 전압      | 5V           |
| 소비 전력      | 저전력       |

**원리**

* 습도감지 (저항감지형)
  * DHT 11은 두 전극 사이의 전기 저항을 측정하여 수증기를 감지한다.
    습도 감지 구성 요소는 전극이 표면에 적용된 수분 보유 기판이다.

    * 수증기가 기판에 흡수되면 이온이 기판에 의해 방출되어 전극 사이의 전도성이 증가한다. 두 전극 사이의 저항 변화는 상대 습도에 비례한다.

      즉, 공기중의 습도가 오르면 전류가 더 많이 흐르므로 이를 통해 변화된 저항값으로 습도를 측정할 수 있다.

* 온도 감지
  
  * 온도는 표면에 설치된 NTC 온도 센서 (써미스터)를 사용하여 온도에 따른 물질의 저항치 변화값으로 온도를 측정한다.

<br>

###  HC-SR501

PIR 적외선감지센서

![image-20200826162525317](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826162525317.png)

**주요 사양**

| 감지거리  | 약 7m 까지                   |
| --------- | ---------------------------- |
| 감지 각도 | 120도                        |
| 출력 전압 | High:3.3V, LOW:0V            |
| 입력 전압 | 5~12V                        |
| 조절 기능 | 민감도, 지연시간, 트리거모드 |

**조절 방법**

![image-20200826165054378](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826165054378.png)

* 감도조절(Distance Adjust)
  : 시계방향으로 돌리면 민감도가 낮춰져서 감지거리가 줄어든다.
* 지연시간(Delay Time Adjust)
  : 인체 감지후 감지된 상태를 얼마간 유지할 것인가 하는 시간을 조절한다. 시계방향으로 돌릴수록 지연시간이 짧아진다.
* 트리거모드
  : 좌측의 점퍼 스위치를 L로 연결하면 감지신호를 한번만 보내주는 코드이고 H는 감지신호를 계속해서 보내주는 모드이다.

**원리**

![image-20200826171438214](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826171438214.png)

인체의 온도는 36.5도이다. 이 범위는 적외선범위이기 때문에 IR로 표기합니다.
그러나 인체의 온도는 일정하나 사람에 따라서는 방사되는양에 많은 차이가 있기때문에 실제로 IR Detector로 측정하게 되면 보통 9.4 ~10.4 정도로 나타난다.

PIR Sensor는 일정한 양의 적외선을 띄는 물체가 움직이면 감지하여 출력을 내게된다. 그리고 적외선 물체의 움직임이 없으면 출력은 나오지 않게 된다.

<br>

### SZH-SSBH-011

Cds 광/ 조도 센서

![image-20200826171830778](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826171830778.png)

**주요사양**

| 인터페이스 | 아날로그, 디지털 |
| ---------- | ---------------- |
| 작동 전압  | 3.5~5V           |

**사용 방법**

![image-20200826181129967](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826181129967.png)

* 아날로그와 디지털 둘다 사용이 가능하고 광량 감도 조정 볼륨을 통해서 디지털신호 사용 시 빛의 감도를 조절할 수 있다.
  * 아날로그 신호일 경우 들어오는 광량을 측정할 수 있는 반면, 디지털 신호일 경우 빛이 들어오는지 차단되는지만 알 수 있다.

**원리**

조도센서는 주위의 밝기를 알아낼 수 있는 센서이다..

아두이노에서 사용하는 조도센서는 황화카드뮴(Cds)를 소자로 사용한다.
![image-20200826181930395](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826181930395.png)

조도센서는 빛의 양에 따라 저항의 값이 변한다. 조도센서의 지그재그로 된 주황색 부분이 광자의 양을 측정한다.

조도센서는 주의가 밝을수록 광자 양이 많아져 저항값이 작아지고 저항이 감소하면 전류가 많이 흐르게 된다. 반대로 주위가 어두울수록 저항값이 커져 전류가 적게 흐르게 된다.
즉, **주위 밝기와 저항값은 반비례한다.**

### DFR0034

아날로그 사운드 센서

![image-20200826184429273](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826184429273.png)

**주요 사양**

| 인터페이스 | 아날로그 |
| ---------- | -------- |
| 작동 전압  | 3.5~5V   |

**사용 방법**

아날로그 신호를 입력하면 값이 나오게 된다. 따로 조절하는 부분은 없다.

**원리**

소리 감지센서는 '공기의 진동'을 인식해서 그에 따른 전압을 출력해주게 된다.

### NeoPixel

LED 한개를 켜기 위해서 1개의 전원 단자(핀)이 필요하지만 Neopixel은 전원과 제어용 데이터핀만 있으면 많은 LED를 제어할 수 있다.

![image-20200826190157055](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826190157055.png)

스틱 타입

![image-20200826190220410](C:\Users\klop0\AppData\Roaming\Typora\typora-user-images\image-20200826190220410.png)

**주요사양**

| 인터페이스 | 디지털 |
| ---------- | ------ |
| 작동전압   | 5V     |

**사용방법**

라이브러리가 필요하므로 외부 라이브러리를 다운받아서 사용함

* dafruit_NeoPixel

**원리**